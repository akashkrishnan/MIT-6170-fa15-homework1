<!DOCTYPE html>
<html>

  <head>
    <title>6.170 Assignment 1: Prefix Match</title>
    <link rel="stylesheet" href="./index.css" type="text/css" charset="utf-8">
  </head>

  <body>

    <input id="search-term-input" type="text" placeholder="Type something...">

    <ul id="results-list"></ul>

    <script src="./words.js" charset="utf-8"></script>
    <script src="./trie.js" charset="utf-8"></script>
    <script src="./controller.js" charset="utf-8"></script>

    <script>

      'use strict';

      document.addEventListener( 'DOMContentLoaded', function () {

        var NUM_WORDS_TO_SHOW = 10;

        // Sort WORDS in alphabetically ascending order
        WORDS.sort();

        var trie = Trie();
        WORDS.forEach( function ( word ) {
          trie.insert( word.trim() ); // IGNORE LEADING & TRAILING WHITESPACE
        } );

        CONTROLLER.registerAutocompleteListener( function ( word ) {

          // Clear search results
          CONTROLLER.clearSearchResults();

          // Obtain autocomplete words and add to search results
          var autocomplete = trie.autocomplete( word.trim(), NUM_WORDS_TO_SHOW );
          autocomplete.sort();
          autocomplete.forEach( function ( word ) {
            CONTROLLER.appendToSearchResults( word );
          } );

        } );

      } );

    </script>

  </body>

</html>
